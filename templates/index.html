<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dokumentasi</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
  <!-- Navbar with Glass effect -->

  <div class="background-animation">
    <div class="sphere"></div>
    <div class="sphere"></div>
    <div class="sphere"></div>
    <div class="sphere"></div>
    <div class="sphere"></div>
  </div>

  <nav class="navbar navbar-expand navbar-dark fixed-top">
    <div class="container">
      <a class="navbar-brand" href="#">Dokumentasi</a>
    </div>
  </nav>

  <div class="container main-content">
    <!-- User Profile Panel -->
    <div class="user-profile">
      <div class="name">John Doe</div>
      <div class="username">@johndoe</div>
      <div class="bio">Frontend developer passionate about creating beautiful user interfaces and optimizing user
        experience.</div>
      <div class="expired">Expired: March 22, 2026</div>
      <div class="buttons">
        <a href="https://t.me/miraibotsupport" class="button" target="_blank">Support</a>
        <a href="https://t.me/miraibotchannel" class="button" target="_blank">Owner</a>
      </div>
    </div>

    <!-- Button container with 2x4 grid in center of screen -->
    <div id="buttonContainer" class="button-grid"></div>
  </div>

  <!-- Centered Navigation container - fixed at bottom -->
  <div class="navigation-container">
    <div class="nav-buttons glass-effect">
      <button id="prevButton" class="nav-button">&laquo; Prev</button>
      <button id="nextButton" class="nav-button">Next &raquo;</button>
    </div>
  </div>

  <!-- Modal to display document details -->
  <div class="modal fade" id="docDetailModal" tabindex="-1" aria-labelledby="docDetailModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="docDetailModalLabel"></h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="modalContent">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>

  <script>
    // Documentation data
    const docsData = [
      {
        title: "Server Commands",
        description: "Basic server management commands for administrators.",
        commands: {
          1: {
            command: "/start",
            commanddesc: "Start the server instance"
          },
          2: {
            command: "/stop",
            commanddesc: "Stop the server instance"
          },
          3: {
            command: "/restart",
            commanddesc: "Restart the server instance"
          },
          4: {
            command: "/status",
            commanddesc: "Check the current server status"
          }
        }
      },
      {
        title: "User Management",
        description: "Commands for managing user accounts and permissions.",
        commands: {
          1: {
            command: "/adduser [username]",
            commanddesc: "Add a new user to the system"
          },
          2: {
            command: "/deluser [username]",
            commanddesc: "Remove a user from the system"
          },
          3: {
            command: "/passwd [username]",
            commanddesc: "Change a user's password"
          },
          4: {
            command: "/grant [username] [permission]",
            commanddesc: "Grant specific permissions to a user"
          }
        }
      },
      {
        title: "File Operations",
        description: "Commands for file and directory management.",
        commands: {
          1: {
            command: "/ls [path]",
            commanddesc: "List files in specified directory"
          },
          2: {
            command: "/cp [source] [destination]",
            commanddesc: "Copy files or directories"
          },
          3: {
            command: "/mv [source] [destination]",
            commanddesc: "Move or rename files or directories"
          },
          4: {
            command: "/rm [path]",
            commanddesc: "Remove files or directories"
          }
        }
      },
      {
        title: "Network Tools",
        description: "Commands for network diagnostics and configuration.",
        commands: {
          1: {
            command: "/ping [host]",
            commanddesc: "Test connectivity to a specified host"
          },
          2: {
            command: "/ifconfig",
            commanddesc: "Display network interface configuration"
          },
          3: {
            command: "/nslookup [domain]",
            commanddesc: "Query DNS for domain information"
          },
          4: {
            command: "/firewall [action]",
            commanddesc: "Configure firewall settings"
          }
        }
      },
      {
        title: "Database Management",
        description: "Commands for database administration and queries.",
        commands: {
          1: {
            command: "/dbconnect [database]",
            commanddesc: "Connect to a specific database"
          },
          2: {
            command: "/dbbackup [database]",
            commanddesc: "Create a backup of a database"
          },
          3: {
            command: "/dbrestore [backup]",
            commanddesc: "Restore a database from backup"
          },
          4: {
            command: "/dbstatus",
            commanddesc: "Check database server status"
          }
        }
      },
      {
        title: "Security Controls",
        description: "Commands for security monitoring and management.",
        commands: {
          1: {
            command: "/audit [component]",
            commanddesc: "Run security audit on system component"
          },
          2: {
            command: "/encrypt [file]",
            commanddesc: "Encrypt a file or data stream"
          },
          3: {
            command: "/decrypt [file]",
            commanddesc: "Decrypt a previously encrypted file"
          },
          4: {
            command: "/secpolicy [action]",
            commanddesc: "View or modify security policies"
          }
        }
      },
      {
        title: "Monitoring Tools",
        description: "Commands for system monitoring and diagnostics.",
        commands: {
          1: {
            command: "/top",
            commanddesc: "Display system resource usage"
          },
          2: {
            command: "/logs [service]",
            commanddesc: "View logs for specified service"
          },
          3: {
            command: "/df",
            commanddesc: "Check disk space usage"
          },
          4: {
            command: "/alert [configure]",
            commanddesc: "Set up system alerts"
          }
        }
      },
      {
        title: "Backup & Recovery",
        description: "Commands for system backup and restoration.",
        commands: {
          1: {
            command: "/backup [scope]",
            commanddesc: "Create system or data backup"
          },
          2: {
            command: "/restore [backup]",
            commanddesc: "Restore from backup"
          },
          3: {
            command: "/schedule [task]",
            commanddesc: "Schedule automated backups"
          },
          4: {
            command: "/verify [backup]",
            commanddesc: "Verify backup integrity"
          }
        }
      },
      {
        title: "Application Management",
        description: "Commands for managing installed applications.",
        commands: {
          1: {
            command: "/applist",
            commanddesc: "List all installed applications"
          },
          2: {
            command: "/appinstall [package]",
            commanddesc: "Install a new application"
          },
          3: {
            command: "/appremove [package]",
            commanddesc: "Remove an installed application"
          },
          4: {
            command: "/appupdate [package]",
            commanddesc: "Update an installed application"
          }
        }
      },
      {
        title: "System Configuration",
        description: "Commands for modifying system configuration.",
        commands: {
          1: {
            command: "/sysconfig [component]",
            commanddesc: "View or modify system configuration"
          },
          2: {
            command: "/timezone [zone]",
            commanddesc: "Set system timezone"
          },
          3: {
            command: "/language [locale]",
            commanddesc: "Set system language"
          },
          4: {
            command: "/scheduler [task]",
            commanddesc: "Manage scheduled tasks"
          }
        }
      }
    ];

    // Pagination configuration
    const buttonsPerPage = 8;
    let currentPage = 1;

    // Function to display buttons based on page
    function displayButtons(page) {
      const buttonContainer = document.getElementById('buttonContainer');
      buttonContainer.innerHTML = '';

      // Calculate start and end index
      const startIndex = (page - 1) * buttonsPerPage;
      const endIndex = Math.min(startIndex + buttonsPerPage, docsData.length);

      // Display buttons for current page
      for (let i = startIndex; i < endIndex; i++) {
        const doc = docsData[i];
        const docIndex = i; // Save index for reference

        // Create button with data from docsData array
        const button = document.createElement('button');
        button.type = 'button';
        button.className = 'doc-button';
        button.innerHTML = `
            <strong>${doc.title}</strong>
          `;

        // Add event listener to display details
        button.addEventListener('click', function () {
          showDocDetail(docIndex);
        });

        // Add button to container
        buttonContainer.appendChild(button);
      }
    }

    // Function to display document details in existing modal
    function showDocDetail(docIndex) {
      const doc = docsData[docIndex];

      // Update modal content
      document.getElementById('docDetailModalLabel').textContent = doc.title;

      let modalContent = `
          <p>${doc.description}</p>
          <h6 class="mt-4">Commands:</h6>
          ${renderCommands(doc.commands)}
        `;

      document.getElementById('modalContent').innerHTML = modalContent;

      // Show modal
      const modal = new bootstrap.Modal(document.getElementById('docDetailModal'));
      modal.show();
    }

    // Function to render commands in document
    function renderCommands(commands) {
      if (!commands || Object.keys(commands).length === 0) {
        return '<div class="alert alert-light">No commands available</div>';
      }

      let commandsHtml = '<div class="list-group">';

      for (const key in commands) {
        const command = commands[key];
        commandsHtml += `
            <div class="list-group-item">
              <div class="fw-bold">${command.command}</div>
              <div class="small">${command.commanddesc}</div>
            </div>
          `;
      }

      commandsHtml += '</div>';
      return commandsHtml;
    }

    // Function to update prev/next button status
    function updateNavigationButtons() {
      const prevButton = document.getElementById('prevButton');
      const nextButton = document.getElementById('nextButton');

      const totalPages = Math.ceil(docsData.length / buttonsPerPage);

      // Disable previous button if on first page
      if (currentPage === 1) {
        prevButton.disabled = true;
      } else {
        prevButton.disabled = false;
      }

      // Disable next button if on last page
      if (currentPage === totalPages || totalPages === 0) {
        nextButton.disabled = true;
      } else {
        nextButton.disabled = false;
      }
    }

    // Setup event listeners for navigation buttons
    function setupEventListeners() {
      const prevButton = document.getElementById('prevButton');
      const nextButton = document.getElementById('nextButton');

      prevButton.addEventListener('click', function () {
        if (currentPage > 1) {
          currentPage--;
          updateUI();
        }
      });

      nextButton.addEventListener('click', function () {
        const totalPages = Math.ceil(docsData.length / buttonsPerPage);
        if (currentPage < totalPages) {
          currentPage++;
          updateUI();
        }
      });
    }

    // Update UI
    function updateUI() {
      displayButtons(currentPage);
      updateNavigationButtons();
    }

    // Initialize page
    document.addEventListener('DOMContentLoaded', function () {
      setupEventListeners();
      updateUI(); // Update UI immediately without needing to fetch
    });
  </script>
</body>

</html>